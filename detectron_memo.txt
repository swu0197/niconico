環境：
Ubuntu16.04
CUDA9.0+cudnn7

$:git clone https://github.com/facebookresearch/Detectron
$:cd Detectron/docker

このままDockerすると失敗したため、以下のようにDockerfileを書換えた

$:gedit Dockerfile &

L10らへん
# Clone the Detectron repository
RUN git clone https://github.com/facebookresearch/detectron /detectron
WORKDIR /detectron
RUN git checkout d56e267efc92b65b8d899f1b89a7ed2bca3e5f44

Dockerする
$:sudo docker build -t takepon:X1 .

DockerImageができているか確認
$:sudo docker images
REPOSITORY      TAG       IMAGE ID            CREATED             SIZE
takepon         X1        ab9f0c04467d        22 hours ago        4.14GB

コンテナ作成
$:sudo nvidia-docker run -v /home/takepon/Detectron:/input -it --name infer_test takepon:X1 /bin/bash

おまじない（Python3環境にする）
#detectron: pip install tqdm
#detectron: pip install PyYAML==3.12
#detectron: cp /input/utils/* ./detectron/utils/

Ctrl+p→Ctrl+qでコマンドラインへ

いざ...
$:sudo nvidia-docker exec -it infer_test python tools/infer_simple.py \
    --cfg configs/12_2017_baselines/e2e_mask_rcnn_R-101-FPN_2x.yaml \
    --output-dir /input/detectron-visualizations \
    --image-ext jpg \
    --wts https://dl.fbaipublicfiles.com/detectron/35861858/12_2017_baselines/e2e_mask_rcnn_R-101-FPN_2x.yaml.02_32_51.SgT4y1cO/output/train/coco_2014_train:coco_2014_valminusminival/generalized_rcnn/model_final.pkl \
    demo
指定したoutput-dirに認識結果のファイルが出力されていればOK
